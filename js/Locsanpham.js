var ArrayListProducts = [
    {
        id:"0001",
        thuonghieu:"Asus",
        phanloai:"gaming",
        img: "./css/image/vp1.webp",
        doi: "./css/image/vp1.2.webp",
        name: "ASUS VivoBook 14 OLED A1405VA-KM095W (14' 2.8K OLED 100% DCI-P3 | Win 11)",
        cpu: "Intel Core i5",
        ram: "16G DDR4 3200MHz",
        ssd: "512 PCIe NVMe",
        vga: " RTX 3050 Ti",
        pricecompare: "17,990,000",
        giam: "-25%",
    },
    {
        id:"0002",
        thuonghieu:"Asus",
        phanloai:"gaming",
        img: "./css/image/vp2.webp",
        doi: "./css/image/vp2.webp",
        name: "ASUS VivoBook 14 OLED M1405YA-KM047W (14' 2.8K OLED | Win 11)",
        cpu: "AMD Ryzen 5",
        ram: "8G DDR4 3200MHz",
        ssd: "512 PCIe NVMe",
        vga: " RTX 3050 Ti",
        pricecompare: "17,490,000",
        giam: "-20%",
    },
    {
        id:"0003",
        thuonghieu:"Asus",
        phanloai:"gaming",
        img: "./css/image/vp3.png",
        doi: "./css/image/vp3.2.webp",
        name: "ASUS VivoBook 15 OLED A1505VA-L1113W (15.6' FHD OLED | Win 11)",
        cpu: "Intel Core i5 1335U",
        ram: "16G DDR4 3200MHz",
        ssd: "512 PCIe NVMe",
        vga: " RTX 3050 Ti",
        pricecompare: "17,490,000",
        giam: "-20%",
    },
    {
        id:"0004",
        thuonghieu:"Asus",
        phanloai:"gaming",
        img: "./css/image/vp4.png",
        doi: "./css/image/vp4.2.png",
        name: "ASUS VivoBook Pro 16 OLED K6602VV-MX077W (16' 3.2K OLED 120Hz | Win 11)",
        cpu: "Intel Core i9",
        ram: "16G DDR4 4800MHz",
        ssd: "1 TB M.2 PCIe NVMe",
        vga: " RTX 3050 Ti",
        pricecompare: "43,490,000",
        giam: "-20%",
    },
    {
        id:"0005",
        thuonghieu:"Asus",
        phanloai:"gaming",
        img: "./css/image/vp5.webp",
        doi: "./css/image/vp5.2.webp",
        name: "Asus Vivobook X413JA-211VBWB I3-1005G1 4GB 128GB SSD 14 FHD W10",
        cpu: "Intel Core i3 1005G1",
        ram: "4G DDR4 2666Hz",
        ssd: "128GB PCIe NVMe",
        vga: " RTX 3050 Ti",
        pricecompare: "15,000,000",
        giam: "-20%",
    },
    {
        id:"0006",
        thuonghieu:"Asus",
        phanloai:"gaming",
        img: "./css/image/vp6.jpg",
        doi: "./css/image/vp6.2.jpg",
        name: "PC Dell Vostro 3888 70226498 I3-10100 4GB 1TB HDD",
        cpu: "",
        ram: "",
        ssd: "",
        vga: "RTX 3060",
        pricecompare: "15000000",
        giam: "-20%",
    },
    {
        id:"0007",
        thuonghieu:"Hp",
        phanloai:"gaming",
        img: "./css/image/vp7.png",
        doi: "./css/image/vp7.2.png",
        name: "Laptop HP 250 G7 (15.6' HD)",
        cpu: "Intel Core i3 1005G1",
        ram: "4GB DDR4 3200Mhz",
        ssd: "1TB HDD Sata 3",
        vga: "RTX 3060",
        pricecompare: "15000000",
        giam: "-20%",
    },
    {
        id:"0008",
        thuonghieu:"Hp",
        phanloai:"gaming",
        img: "./css/image/vp8.png",
        doi: "./css/image/vp8.2.png",
        name: "Laptop HP 225 G7 (14'HD)",
        cpu: "AMD Ryzen 3 3200U",
        ram: "4GB DDR4 3200Mhz",
        ssd: "1TB HDD Sata 3",
        vga: "RTX 3060",
        pricecompare: "15000000",
        giam: "-20%",
    },
    {
        id:"0009",
        thuonghieu:"Hp",
        phanloai:"gaming",
        img: "./css/image/vp9.jpg",
        doi: "./css/image/vp9.2.jpg",
        name: "HP 14-DQ1025NR NEW 14.0'HD WIN10",
        cpu: "Intel Core i3 1005G1",
        ram: "4GB DDR4 3200Mhz",
        ssd: "128GB PCIe NVMe",
        vga: "RTX 3060",
        pricecompare: "15000000",
        giam: "-20%",
    },
    {
        id:"0010",
        thuonghieu:"Hp",
        phanloai:"gaming",
        img: "./css/image/vp10.png",
        doi: "./css/image/vp10.2.png",
        name: "HP 14-DQ2031TG 14.0 FHD WIN10 Silver",
        cpu: "Intel Core i3 1125G4",
        ram: "4GB DDR4 3200Mhz",
        ssd: "128GB PCIe NVMe",
        vga: "RTX 3060",
        pricecompare: "15000000",
        giam: "-20%",
    },
    {
        id:"0011",
        thuonghieu:"Hp",
        phanloai:"gaming",
        img: "./css/image/vp11.png",
        doi: "./css/image/vp11.2.webp",
        name: "HP 15 -DY2024nr I5-1135G7 8GB 256GB SSD 15.6'FHD",
        cpu: "Intel Core i5 1135G7",
        ram: "8G DDR4 3200MHz",
        ssd: "256G PCIe NVMe",
        vga: "RTX 3070",
        pricecompare: "15000000",
        giam: "-20%",
    },
    {
        id:"0012",
        thuonghieu:"Hp",
        phanloai:"gaming",
        img: "./css/image/vp12.jpg",
        doi: "./css/image/vp12.2.jpg",
        name: "HP 14s-Fq1080AU 4K0Z7PA Ryzen 3-5300U 4GB 256GB Radeon Vega 14 Inch HD Win 10",
        cpu: "AMD Ryzen 3 3500U",
        ram: "4GB DDR4 3200Mhz",
        ssd: "256G PCIe NVMe",
        vga: "RTX 3070",
        pricecompare: "15000000",
        giam: "-20%",
    },
    {
        id:"0013",
        thuonghieu:"Asus",
        phanloai:"gaming",
        img: "./css/image/vp13.webp",
        doi: "./css/image/vp13.2.webp",
        name: "ASUS VivoBook M513UA-L1221T (R5-5500U | 8GB | 512GB | AMD Radeon Graphics | 15.6' FHD | Win 10)",
        cpu: "",
        ram: "",
        ssd: "",
        vga: "RTX 3070",
        pricecompare: "15000000",
        giam: "-20%",
    },
    {
        id:"0014",
        thuonghieu:"Dell",
        phanloai:"dohoa",
        img: "./css/image/dh1.gif",
        doi: "./css/image/dh1.gif",
        name: "Dell Gaming G15 5525 Ryzen™5 6600H RAM 8GB SSD 512GB RTX 3050 FHD 120Hz",
        cpu: "AMD Ryzen R5 5600H",
        ram: " 8GB DDR5",
        ssd: "512GB Pcie",
        vga: "RTX 3070",
        pricecompare: "24,900,000",
        giam: "-20%",
    },
    {
        id:"0015",
        thuonghieu:"Acer",
        phanloai:"dohoa",
        img: "./css/image/dh2.jpg",
        doi: "./css/image/dh2.2.webp",
        name: "Acer Nitro 5 Outlet New I5-12500H 16GB 512GB RTX 3050Ti 15.6' FHD 144Hz",
        cpu: "Core i5 12500H",
        ram: "16GB DDR4",
        ssd: "512GB Pcie",
        vga: "RTX 3070",
        pricecompare: "18,900,000",
        giam: "-20%",
    },
    {
        id:"0016",
        thuonghieu:"Lenovo",
        phanloai:"dohoa",
        img: "./css/image/dh3.gif",
        doi: "./css/image/dh3.2.gif",
        name: "Lenovo LOQ 2023 15IRH8 Core™ I5-13420H, RAM 8GB, SSD 1TB, RTX 3050, FHD",
        cpu: "Core i5 1350H",
        ram: "8GB DDR5",
        ssd: "1 TB M.2 PCIe NVMe",
        vga: "RTX 3070 Ti ",
        pricecompare: "19,990,000",
        giam: "-20%",
    },
    {
        id:"0017",
        thuonghieu:"Msi",
        phanloai:"dohoa",
        img: "./css/image/dh4.webp",
        doi: "./css/image/dh4.2.webp",
        name: "MSI Cyborg 15 A12UDX-621VN i5-12450H 8GB 512GB GeForce RTX 3050 4GB 15.6 FHD 144Hz",
        cpu: "Core i5 12450H",
        ram: "8GB DDR5",
        ssd: "512GB Pcie",
        vga: "RTX 3070 Ti",
        pricecompare: "26,990,000",
        giam: "-20%",
    },
    {
        id:"0018",
        thuonghieu:"Hp",
        phanloai:"dohoa",
        img: "./css/image/dh5.3.png",
        doi: "./css/image/dh5.3.png",
        name: "HP Victus 15-Fa0115TX (7C0X1PA) I5-12500H | 8GB | 512GB | GeForce RTX™ 3050 4GB | 15.6' FHD 144Hz",
        cpu: "Core i5 12500H",
        ram: "8GB DDR5",
        ssd: "512G PCIe M.2",
        vga: "RTX 3070 Ti",
        pricecompare: "19,990,000",
        giam: "-20%",
    },
    {
        id:"0019",
        thuonghieu:"Msi",
        phanloai:"dohoa",
        img: "./css/image/dh6.webp",
        doi: "./css/image/dh6.2.png",
        name: "MSI Katana GF76 I7-11800H Ram 16GB 512G RTX 3050Ti 15,6 FHD 144H",
        cpu: "Intel Core i7 11800H",
        ram: "16G DDR4 3200MHz",
        ssd: "512 PCIe NVMe",
        vga: "RTX 3070 Ti",
        pricecompare: "19,990,000₫",
        giam: "-20%",
    },
    {
        id:"0020",
        thuonghieu:"DELL",
        phanloai:"dohoa",
        img: "./css/image/dh7.webp",
        doi: "./css/image/dh7.2.webp",
        name: "Dell Gaming G15 5520 I5-12500H, RAM 16GB, SSD 512GB, RTX 3050, FHD 120Hz",
        cpu: "i5 12500H",
        ram: "8G DDR5 4800MHz",
        ssd: "256GB Pcie",
        vga: "RTX 3070 Ti",
        pricecompare: "24,900,000",
        giam: "-20%",
    },
    {
        id:"0021",
        thuonghieu:"MSI",
        phanloai:"dohoa",
        img: "./css/image/dh8.webp",
        doi: "./css/image/dh8.2.webp",
        name: "MSI Cyborg 15 A12VE-412VN I5-12450H 8GB 512GB GerForce RTX4050 15.6 FHD 144Hz",
        cpu: "Core i5 12450H",
        ram: "8GB DDR5",
        ssd: "512GB Pciee",
        vga: "GeForce RTX 4050 6GB",
        pricecompare: "26,990,000",
        giam: "-20%",
    },
    {
        id:"0022",
        thuonghieu:"ACER",
        phanloai:"dohoa",
        img: "./css/image/dh9.webp",
        doi: "./css/image/dh9.2.webp",
        name: "Acer Nitro 5 Tiger AN515-58-52SP I5-12500H 8GB 512GB RTX 3050 15.6' FHD 144Hz",
        cpu: "Core i7 12700H",
        ram: "8GB DDR4",
        ssd: "512GB Pcie",
        vga: "RTX3050 4GB",
        pricecompare: "22,990,000",
        giam: "-20%",
    },
    {
        id:"0023",
        thuonghieu:"LENOVO",
        phanloai:"dohoa",
        img: "./css/image/dh10.webp",
        doi: "./css/image/dh10.webp",
        name: "Lenovo Legion 5 AMD Ryzen 5 6600H 16GB 512GB SSD RTX 3050Ti 15,6' FHD",
        cpu: "AMD Ryzen R5 6600H",
        ram: "16GB DDR5",
        ssd: "512G PCIe M.2",
        vga: "RTX 3050Tis",
        pricecompare: "26,500,000",
        giam: "-20%",
    },
    {
        id:"0024",
        thuonghieu:"MSI",
        phanloai:"dohoa",
        img: "./css/image/dh11.webp",
        doi: "./css/image/dh11.2.gif",
        name: "MSI Katana 15 I7-13620H Ram 16GB 1TB SSD GeForce RTX 4070 15.6' FHD 144Hz",
        cpu: "Core i7 13620H",
        ram: "16GB DDR5",
        ssd: "1TB PCIe M.2",
        vga: "RTX 4070 8GBs",
        pricecompare: "29,990,000",
        giam: "-20%",
    },
    {
        id:"0025",
        thuonghieu:"DELL",
        phanloai:"dohoa",
        img: "./css/image/dh12.gif",
        doi: "./css/image/dh12.2.gif",
        name: "Dell G16 7620 I7-12700H RTX3060 16GB SSD 1TB 16', QHD 165Hz",
        cpu: "Core i7 12700H",
        ram: "16GB DDR5",
        ssd: "1TB M.2 PCIe NVMe",
        vga: "RTX 3060 6GB",
        pricecompare: "29,990,000",
        giam: "-20%",
    },
    {
        id:"0026",
        thuonghieu:"HP",
        phanloai:"dohoa",
        img: "./css/image/dh13.webp",
        doi: "./css/image/dh13.2.webp",
        name: "HP 14-DQ2031TG NEW I3-1125G4 4GB 128GB PCIE 14.0 FHD WIN10 Silver",
        cpu: "Core i7 11800H",
        ram: "16GB DDR4",
        ssd: "1TB M.2 PCIe",
        vga: "RTX 3070 8GB",
        pricecompare: "30,490,000",
        giam: "",
    },
    {
        id:"0027",
        thuonghieu:"Asus",
        phanloai:"doanhnhan",
        img: "./css/image/dn1.png",
        doi: "./css/image/dn1.2.webp",
        name: "ASUS ZenBook 14 Flip OLED UP3404VA-KN038W (I5-1340P | 16GB | 512GB | Intel Iris Xe Graphics | 14' WQXGA+ OLED 100% DCI-P3 Touch | Win 11)",
        cpu: "Intel Core i5 1340P",
        ram: "16G DDR5 4800Mhz",
        ssd: "512 PCIe NVMe",
        vga: "Intel® Iris® Xe Graphics",
        pricecompare: "25,990,000",
        giam: "-20%",
    },
    {
        id:"0028",
        thuonghieu:"Asus",
        phanloai:"doanhnhan",
        img: "./css/image/dn2.png",
        doi: "./css/image/dn2.2.png",
        name: "ASUS ZenBook 14 Flip OLED UP3404VA-KN039W (I7-1360P | 16GB | 512GB | Intel Iris Xe Graphics | 14' WQXGA+ OLED 100% DCI-P3 Touch | Win 11)",
        cpu: "Intel Core i7 1360P",
        ram: "16G DDR5 4800Mhz",
        ssd: "512 PCIe NVMe",
        vga: "Intel® Iris® Xe Graphics",
        pricecompare: "25,990,000",
        giam: "-20%",
    },
    {
        id:"0029",
        thuonghieu:"Asus",
        phanloai:"doanhnhan",
        img: "./css/image/dn3.png",
        doi: "./css/image/dn3.2.png",
        name: "ASUS ZenBook 14 Flip OLED UP3404VA-KN039W (I7-1360P | 16GB | 512GB | Intel Iris Xe Graphics | 14' WQXGA+ OLED 100% DCI-P3 Touch | Win 11)",
        cpu: "Intel Core i7 1360P",
        ram: "16G DDR5 4800Mhz",
        ssd: "512 PCIe NVMe",
        vga: "Intel® Iris® Xe Graphics",
        pricecompare: "27,490,000",
        giam: "",
    },
    {
        id:"0030",
        thuonghieu:"Asus",
        phanloai:"doanhnhan",
        img: "./css/image/dn4.png",
        doi: "./css/image/dn4.2.png",
        name: "ASUS ZenBook 14 OLED UX3402VA-KM085W (I5-1340P | 16GB | 512GB | Intel Iris Xe Graphics | 14' WQXGA+ OLED 100% DCI-P3 | Win 11)",
        cpu: "Intel Core i5 1340P",
        ram: "16G DDR5 4800Mhz",
        ssd: "512 PCIe NVMe",
        vga: "Intel® Iris® Xe Graphics",
        pricecompare: "23,990,000",
        giam: "-20%",
    },
    {
        id:"0031",
        thuonghieu:"Asus",
        phanloai:"doanhnhan",
        img: "./css/image/dn5.png",
        doi: "./css/image/dn5.2.png",
        name: "ASUS ZenBook 14 OLED UX3402VA-KM203W (I5-1340P | 16GB | 512GB | Intel Iris Xe Graphics | 14' WQXGA+ OLED 100% DCI-P3 | Win 11)",
        cpu: "Intel Core i5 1340P",
        ram: "16G DDR5 4800Mhz",
        ssd: "512 PCIe NVMe",
        vga: "Intel® Iris® Xe Graphics",
        pricecompare: "23,990,000",
        giam: "-20%",
    },
    {
        id:"0032",
        thuonghieu:"Asus",
        phanloai:"doanhnhan",
        img: "./css/image/dn6.gif",
        doi: "./css/image/dn6.2.gif",
        name: "Asus Zenbook 14 Q410VA Core I5 13500H, RAM 8GB, SSD 512GB, OLED",
        cpu: "Core i5 13500H",
        ram: "8GB DDR5",
        ssd: "512GB Pcie",
        vga: "Intel® Iris® Xe Graphics",
        pricecompare: "16,990,000",
        giam: "-20%",
    },
    {
        id:"0033",
        thuonghieu:"Asus",
        phanloai:"doanhnhan",
        img: "./css/image/dn7.webp",
        doi: "./css/image/dn7.2.webp",
        name: "ASUS ZenBook Pro 14 Duo OLED UX8402VU-P1028W (I9-13900H | 32GB | 1TB | GeForce RTX™ 4050 6GB | 14.5' 2.8K OLED 100% DCI-P3 Touch | Win 11)C Dell Vostro 3888 70226498 I3-10100 4GB 1TB HDD",
        cpu: "Intel Core i9",
        ram: "32G DDR5 4800Mhz",
        ssd: "1TB M.2 PCIe",
        vga: "Geforce RTX 4050 6GB",
        pricecompare: "62,990,000",
        giam: "-20%",
    },
    {
        id:"0034",
        thuonghieu:"Asus",
        phanloai:"doanhnhan",
        img: "./css/image/dn8.png",
        doi: "./css/image/dn8.2.png",
        name: "ASUS ZenBook Pro 14 OLED UX6404VV-P4069W (I9-13900H | 32GB | 1TB | GeForce RTX™ 4060 8GB | 14.5' 2.8K OLED 100% DCI-P3 | Win 11)",
        cpu: "Intel Core i9",
        ram: "32G DDR5 4800Mhz",
        ssd: "1TB M.2 PCIe",
        vga: "Geforce RTX 4060 8GB",
        pricecompare: "49,990,000",
        giam: "-20%",
    },
    {
        id:"0035",
        thuonghieu:"Asus",
        phanloai:"doanhnhan",
        img: "./css/image/dn9.gif",
        doi: "./css/image/dn9.2.gif",
        name: "Asus Zenbook Q409ZA Core™ I5-1240P RAM 8GB SSD 256GB OLED",
        cpu: "Intel Core i5 1240P",
        ram: "8G DDR5 5200Mhz",
        ssd: "256G PCIe NVMe",
        vga: "Intel® Iris® Xe Graphics",
        pricecompare: "14,500,000",
        giam: "-20%",
    },
    {
        id:"0036",
        thuonghieu:"Asus",
        phanloai:"new99",
        img: "./css/image/dn10.gif",
        doi: "./css/image/dn10.2.gif",
        name: "Asus Zenbook Q420VA Gen 13th Core I7 13700H, RAM 16GB, SSD 512GB, OLED",
        cpu: "Core i7 13700H",
        ram: "16GB DDR5",
        ssd: "512GB Pcie",
        vga: "Intel® Iris® Xe Graphics",
        pricecompare: "23,990,000",
        giam: "-20%",
    },
    {
        id:"0037",
        thuonghieu:"Asus",
        phanloai:"new99",
        img: "./css/image/dn11.webp",
        doi: "./css/image/dn11.2.png",
        name: "ASUS ZenBook S 13 OLED UX5304VA-NQ126W (I7-1355U | 32GB | 1TB | Intel Iris Xe Graphics | 13.3' 2.8K OLED 100% DCI-P3 | Win 11)",
        cpu: "32G DDR5 4800Mhz",
        ram: "32G DDR5 4800Mhz",
        ssd: "1TB M.2 PCIe",
        vga: "Intel® Iris® Xe Graphics",
        pricecompare: "40,490,000",
        giam: "-20%",
    },
    {
        id:"0038",
        thuonghieu:"DELL",
        phanloai:"other",
        img: "./css/image/dn12.webp",
        doi: "./css/image/dn12.2.webp",
        name: "Dell Latitude 3310 2-In-1 I5-8265U, RAM 8GB SSD 256GB 13.3” FHD Touch",
        cpu: "Intel Core i5 8265U",
        ram: "8G DDR4 2400MHz",
        ssd: "256G PCIe NVMe",
        vga: "Intel® UHD Graphics 620",
        pricecompare: "11,990,000",
        giam: "-20%",
    },
    {
        id:"0039",
        thuonghieu:"doanhnhan",
        phanloai:"other",
        img: "./css/image/dn13.webp",
        doi: "./css/image/dn13.2.png",
        name: "Dell Latitude 3330 13 Inch 2023",
        cpu: "Intel Core i5 1155G7",
        ram: "8G DDR5 4800MHz5",
        ssd: "256G PCIe NVMe",
        vga: "Intel® Iris® Xe Graphics",
        pricecompare: "16,500,000",
        giam: "-20%",
    },
    {
        id:"0040",
        thuonghieu:"DELL",
        phanloai:"other",
        img: "./css/image/dn14.png",
        doi: "./css/image/dn14.2.png",
        name: "Dell Latitude 3420 14 Inch 2022",
        cpu: "Intel Core i5 1135G7",
        ram: "16G DDR4 3200MHz",
        ssd: "256G PCIe NVMe",
        vga: "Intel® Iris® Xe Graphics",
        pricecompare: "21,000,000",
        giam: "-20%",
    },
];  
//Thêm mảng sản phẩm vào Local
localStorage.setItem('ArrayListProducts', JSON.stringify(ArrayListProducts));
var main = document.getElementById('container-none-filter')
var divfiltersearch = document.getElementById('container-filter-search');
//Lấy giá trị mảng sản phẩm từ LocalStorage
const storedJsonString = localStorage.getItem('ArrayListProducts');
// Chuyển đổi chuỗi JSON thành mảng
const storedArray = JSON.parse(storedJsonString);
//Hàm bỏ dấu phẩy
function removeCommas(inputString) {
    return inputString.replace(/,/g, '');
}
//Hàm lọc và tìm kiếm gộp chung
function handleeFilterFileresult(element) {
    main.style.display = 'none';
    divfiltersearch.style.display = 'block';
    const filter = {
        brand: null,
        price: null,
        cpu: null,
        vga: null,
        phanloai: null,
    };
    // Lấy giá trị từ thuộc tính 'value'
    filterValue = element.getAttribute('value');
    // JS cho phần tìm kiếm
    const searchTerm = document.getElementById('search').value;
   // var filtertest1 = JSON.parse(localStorage.getItem('filtertest1')) || [];
    var filtertest1 = [searchTerm.toString()]; // Đưa giá trị vào mảng mới
    localStorage.setItem('filtertest1', JSON.stringify(filtertest1));

    // So sánh mảng các mục cần tìm
    if (['1', '2', '3', '4'].includes(filterValue)) {
        filter.price = filterValue;
    } else if (['ASUS', 'ACER', 'MSI', 'LENOVO', 'DELL', 'HP', 'LG'].includes(filterValue)) {
        filter.brand = filterValue;
    } else if (['Intel Core i3', 'Intel Core i5', 'Intel Core i7', 'Intel Core i9', 'ADM Ryzen', 'Xeon'].includes(filterValue)) {
        filter.cpu = filterValue;
    } else if (['oldgaming', 'oldvanphong', 'new99', 'other', 'gaming', 'doanhnhan', 'dohoa'].includes(filterValue)) {
        filter.phanloai = filterValue;
    }
    const brandarray = filter.brand ? [filter.brand] : ['ASUS', 'ACER', 'MSI', 'LENOVO', 'DELL', 'HP', 'APPLE'];
    localStorage.setItem('brandarray', JSON.stringify(brandarray));
    
    var filtertest = JSON.parse(localStorage.getItem('filtertest')) || [];
    filtertest.push(filterValue);

    var index = filtertest.length;
    if (index > 1) {
        filtertest.splice(0, 1);
    }
    console.log(filtertest);
    localStorage.setItem('filtertest', JSON.stringify(filtertest));
    localStorage.setItem('filter', JSON.stringify(filter));
    // Gọi hàm ListSellingProducts với các filtertest
   ListSellingProducts(storedArray, filtertest);

    console.log(filtertest);
    console.log(storedArray);
    return false;
}
// Lấy giá trị filtertest từ localStorage
const filtertest = JSON.parse(localStorage.getItem('filtertest'));
//Lấy giá trị brandaray từ local
var brandarray = JSON.parse(localStorage.getItem('brandarray'));
//Lấy giá trị của hàm filter từ local
const storedJsonfilterString = localStorage.getItem('filter');
const filterarr = JSON.parse(storedJsonfilterString);
const filtertest1 = JSON.parse(localStorage.getItem('filtertest1')) || [];
console.log(filtertest1);

// Gọi hàm ListSellingProducts với các filtertest
ListSellingProducts(storedArray, filtertest);

function ListSellingProducts(storedArray, filtertest = []) {
   console.log(filtertest[0]);
   var text = filtertest[0];
// In giá trị ra console để kiểm tra
console.log(text);
// Thực hiện xử lý dựa trên giá trị nếu cần
if (text === 'gaming') {
   document.getElementById('filter-result').innerText = `Laptop Gaming`;
}
if (text === 'doanhnhan') {
   document.getElementById('filter-result').innerText = `Laptop Doanh nhân`;
}
if (text === 'dohoa') {
   document.getElementById('filter-result').innerText = `Laptop Thiết kế - Đồ họa`;
}
    let filteredProducts = [];
    let s = '';
    for (let i = 0; i < storedArray.length; i++) {
        const product = storedArray[i];
        var anh = product.img;
        var doi = product.doi;
        var thuonghieu = product.thuonghieu.toUpperCase();
        var phanloai = product.phanloai;
        var name = product.name;
        var cpu = product.cpu;
        var ram = product.ram;
        var ssd = product.ssd;
        var vga = product.vga;
        var lcd = product.lcd;
        var pricecompare = product.pricecompare;
        // Kiểm tra điều kiện tìm kiếm
        if (!(name.includes(filtertest1[0]))) {
            continue;
        }

        // Kiểm tra điều kiện lọc, nếu filterValue không rỗng thì thực hiện lọc
        if (filterarr.brand) {
            if (!filtertest.includes(thuonghieu)) {
                continue;
            }
        }
        // Kiểm tra điều kiện lọc giá
        if (filterarr.price)         //Dùng filtertest hay filterarr.{Gía trị cần lọc} đều được
        {
            if (removeCommas(pricecompare) < 10000000 && !filtertest.includes('1')) continue;
            if (removeCommas(pricecompare) >= 10000000 && removeCommas(pricecompare) <= 15000000 && !filtertest.includes('2')) continue;
            if (removeCommas(pricecompare) > 15000000 && removeCommas(pricecompare) <= 25000000 && !filtertest.includes('3')) continue;
            if (removeCommas(pricecompare) > 25000000 && !filtertest.includes('4')) continue;
        }
        if (filterarr.cpu) {
            if (!filtertest.includes(cpu))
                continue;
        }

        if (filterarr.vga) {
            if (filtervga.includes(vga) == false)
                continue;
        }
        // Kiểm tra điều kiện lọc, nếu phanloai không rỗng và không nằm trong filtertest thì tiếp tục vòng lặp
        if (filterarr.phanloai && !filtertest.includes(phanloai)) {
            continue;
        }

        filteredProducts.push(product);
        s +=`<div class="itemproduct" id = "itemproduct">
                <div>
                    <a href="#">
                        <img src="${anh}" class="anh" data-doi="${doi}" style="width: 100%; height: 210px;"/>
                    </a>
                </div>
                <div class="content">
                    <div class="title" title="${product.name}">${name}</div>
                    <div id="cpu"><img src="./sua/css/image/cpu.png" width="9%">
                        <span>&nbsp; ${cpu}</span>
                    </div>
                    <div id="ram"><img src="./css/image/ram.png" width="9%">
                        <span>&nbsp; ${ram}</span>
                    </div>                    
                    <div id="ssd"><img src="./css/image/ssd.png" width="7%">
                        <span>&nbsp; ${ssd}</span>
                    </div>                    
                    <div id="vga"><img src="./css/image/vga-card.png" width="8%">
                        <span>&nbsp; ${vga}</span>
                    </div>                    
                    <div id="price">
                        <span id="price-item" id="price">${pricecompare}₫</span>
                    </div>                    
                </div>
            </div>`;                         
    }
    document.getElementById("item-selling-products").innerHTML = s;
    var elements = document.querySelectorAll('.anh');

    elements.forEach(function (element) {
      handleImageHover(element);
    });
    localStorage.setItem('filteredProducts', JSON.stringify(filteredProducts));
// Sử dụng phân trang cho TÌM KIẾM và LỌC
var thisPageFiltersearch = document.querySelectorAll('.item-selling-products .itemproduct');
var paginationContainerfiltersearch = document.getElementById('pagenumberfiltersearch');
showPage(thisPageFiltersearch, paginationContainerfiltersearch);
}


